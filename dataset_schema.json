{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://example.com/schemas/ecommerce_image_trustworthiness_v1.0.json",
    "title": "Ecommerce Product Image Trustworthiness Schema",
    "description": "Schema for labeled product images focusing on trustworthiness, realism, and quality (v1.0).",
    "type": "object",
    "properties": {
        "image_id": {
            "type": "string",
            "description": "Unique identifier for the image"
        },
        "file_name": {
            "type": "string",
            "description": "Original file name or assigned name of the image"
        },
        "file_format": {
            "type": "string",
            "description": "File format or extension (e.g. 'jpg', 'png')"
        },
        "width": {
            "type": "integer",
            "description": "Image width in pixels"
        },
        "height": {
            "type": "integer",
            "description": "Image height in pixels"
        },
        "file_size_bytes": {
            "type": "integer",
            "description": "File size in bytes"
        },
        "image_hash": {
            "type": "string",
            "description": "Hash of the image file (e.g. MD5 or SHA-256) for deduplication"
        },
        "source": {
            "type": "object",
            "description": "Information about the image source",
            "properties": {
                "url": {
                    "type": "string",
                    "format": "uri",
                    "description": "Original URL where the image was scraped or obtained"
                },
                "platform": {
                    "type": "string",
                    "description": "Platform or website name the image came from"
                },
                "ingestion_date": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Timestamp when the image was ingested into the system"
                }
            },
            "required": [
                "url",
                "platform",
                "ingestion_date"
            ]
        },
        "ai_generated": {
            "type": "object",
            "description": "Metadata auto-generated by AI (e.g. GPT) analysis",
            "properties": {
                "trust_score": {
                    "type": "number",
                    "description": "AI-predicted trustworthiness score (e.g. 0-100 scale)"
                },
                "material_guesses": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of predicted materials present in the product image"
                },
                "lighting_description": {
                    "type": "string",
                    "description": "Description or classification of lighting conditions (predicted)"
                },
                "over_editing_score": {
                    "type": "number",
                    "description": "Predicted likelihood or extent of over-editing (e.g. 0-1 or 0-100 scale)"
                },
                "color_saturation": {
                    "type": "number",
                    "description": "Image color saturation metric (automatically computed)"
                }
            }
        },
        "human_reviews": {
            "type": "array",
            "description": "List of human reviewer assessments (2-5 entries per image)",
            "minItems": 2,
            "maxItems": 5,
            "items": {
                "type": "object",
                "properties": {
                    "reviewer_id": {
                        "type": "string",
                        "description": "Internal identifier for reviewer (kept anonymous externally)"
                    },
                    "trust_score": {
                        "type": "number",
                        "description": "Trustworthiness score given by reviewer (e.g. 0-100)"
                    },
                    "realism_score": {
                        "type": "number",
                        "description": "Realism perception score given by reviewer (e.g. 0-100)"
                    },
                    "over_editing_flag": {
                        "type": "boolean",
                        "description": "Reviewer flag indicating if image seems overly edited"
                    },
                    "lighting_score": {
                        "type": "number",
                        "description": "Reviewer evaluation of lighting quality (e.g. 0-100)"
                    },
                    "comments": {
                        "type": "string",
                        "description": "Optional comments from the reviewer about the image"
                    },
                    "review_date": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Timestamp when this review was submitted"
                    }
                },
                "required": [
                    "reviewer_id",
                    "trust_score",
                    "realism_score"
                ]
            }
        },
        "review_summary": {
            "type": "object",
            "description": "Aggregated statistics from multiple human reviews",
            "properties": {
                "average_trust_score": {
                    "type": "number",
                    "description": "Mean of trust scores from all reviewers"
                },
                "std_dev_trust_score": {
                    "type": "number",
                    "description": "Standard deviation of the trust scores"
                },
                "confidence": {
                    "type": "number",
                    "description": "Confidence or consensus level in the trust rating (e.g. higher when reviewers agree)"
                },
                "review_count": {
                    "type": "integer",
                    "description": "Number of human reviews aggregated (for reference)"
                }
            }
        },
        "category": {
            "type": "string",
            "description": "Product category label for the image (e.g. 'apparel', 'electronics')"
        },
        "use_case": {
            "type": "string",
            "description": "Intended use-case or context of image (e.g. 'studio_shot', 'user_generated')"
        },
        "quality_tier": {
            "type": "string",
            "description": "Quality tier classification of the image (e.g. 'high', 'medium', 'low')"
        },
        "tags": {
            "type": "array",
            "description": "Additional tags or labels for the image",
            "items": {
                "type": "string"
            }
        },
        "flags": {
            "type": "object",
            "description": "Flags indicating special conditions or content warnings",
            "properties": {
                "nsfw": {
                    "type": "boolean",
                    "description": "Flag for Not Safe For Work content",
                    "default": false
                },
                "duplicate": {
                    "type": "boolean",
                    "description": "Flag if this image is a duplicate of another",
                    "default": false
                },
                "watermark": {
                    "type": "boolean",
                    "description": "Flag if the image contains a watermark or logo overlay",
                    "default": false
                },
                "text_in_image": {
                    "type": "boolean",
                    "description": "Flag if the image contains significant text (e.g. captions or labels)",
                    "default": false
                },
                "synthetic": {
                    "type": "boolean",
                    "description": "Flag if the image is identified as AI-generated or synthetic",
                    "default": false
                },
                "other": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "List of any other flags or issues not covered by the standard flags"
                }
            },
            "additionalProperties": false
        },
        "synthetic_variant_analysis": {
            "type": "object",
            "description": "Detailed analysis for synthetic content detection (future extension)",
            "properties": {
                "is_synthetic": {
                    "type": "boolean",
                    "description": "True if image is determined to be AI-generated or synthetic"
                },
                "detection_method": {
                    "type": "string",
                    "description": "Method or tool used to detect synthetic content (e.g. 'clip+gpt4')"
                },
                "confidence": {
                    "type": "number",
                    "description": "Confidence score for synthetic detection result (0-1 or 0-100)"
                }
            }
        },
        "cultural_perception_scores": {
            "type": "object",
            "description": "Trustworthiness or realism perception scores by region/culture (future extension)",
            "additionalProperties": {
                "type": "number"
            }
        },
        "image_version": {
            "type": "string",
            "description": "Version label of this image (e.g. 'v1' for original, 'v2' for first edit)"
        },
        "original_image_id": {
            "type": "string",
            "description": "If this image is an edited version, the ID of the original image"
        },
        "related_images": {
            "type": "array",
            "description": "IDs of related images (e.g. other angles or variants of the same product)",
            "items": {
                "type": "string"
            }
        },
        "license": {
            "type": "object",
            "description": "Licensing information for this image data",
            "properties": {
                "license_type": {
                    "type": "string",
                    "description": "License type or usage terms (e.g. 'commercial', 'research')"
                },
                "license_scope": {
                    "type": "string",
                    "description": "Scope of license (e.g. 'global' or specific region)",
                    "default": "global"
                },
                "region_locks": {
                    "type": "array",
                    "description": "List of regions where use is restricted (e.g. ['EU', 'IN'])",
                    "items": {
                        "type": "string"
                    }
                },
                "license_version": {
                    "type": "string",
                    "description": "Version of the license agreement or dataset release"
                }
            },
            "required": [
                "license_type",
                "license_scope",
                "license_version"
            ]
        },
        "audit": {
            "type": "object",
            "description": "Audit trail information for record creation and updates",
            "properties": {
                "created_by": {
                    "type": "string",
                    "description": "Identifier of who or what process created this record"
                },
                "created_at": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Creation timestamp of this record"
                },
                "updated_by": {
                    "type": "string",
                    "description": "Identifier of who or what last updated this record"
                },
                "updated_at": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Timestamp of the last update to this record"
                }
            },
            "required": [
                "created_by",
                "created_at",
                "updated_by",
                "updated_at"
            ]
        }
    },
    "required": [
        "image_id",
        "file_name",
        "width",
        "height",
        "image_hash",
        "source",
        "human_reviews",
        "review_summary",
        "category",
        "use_case",
        "quality_tier",
        "flags",
        "license",
        "audit"
    ]
}